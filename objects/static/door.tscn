[gd_scene load_steps=9 format=2]

[ext_resource path="res://assets/models/door.glb" type="PackedScene" id=1]
[ext_resource path="res://assets/materials/paint.material" type="Material" id=2]
[ext_resource path="res://assets/materials/plastic_black.material" type="Material" id=3]
[ext_resource path="res://assets/materials/metal.material" type="Material" id=4]
[ext_resource path="res://objects/target.tscn" type="PackedScene" id=6]

[sub_resource type="GDScript" id=1]
script/source = "extends Spatial

var isOpen = false

func _input(_event):
	if Input.is_action_just_pressed(\"ui_page_up\"):
		if(isOpen == false):
			isOpen = true
			for _i in range(0, 12, 1):
				get_node(\"frame_005/door_005\").rotate_y(-PI/24)
				yield(get_tree().create_timer(0.025), \"timeout\")
		elif(isOpen == true):
			isOpen = false
			for _i in range(0, 12, 1):
				get_node(\"frame_005/door_005\").rotate_y(PI/24)
				yield(get_tree().create_timer(0.025), \"timeout\")

"

[sub_resource type="GDScript" id=3]
script/source = "extends StaticBody
tool

var isOpen = false

func open():
	if(isOpen == false):
		isOpen = true
		for _i in range(0, 12, 1):
			get_node(\"../frame_005/door_005\").rotate_y(-PI/24)
			yield(get_tree().create_timer(0.025), \"timeout\")
	elif(isOpen == true):
		isOpen = false
		for _i in range(0, 12, 1):
			get_node(\"../frame_005/door_005\").rotate_y(PI/24)
			yield(get_tree().create_timer(0.025), \"timeout\")
"

[sub_resource type="BoxShape" id=2]
extents = Vector3( 0.0304566, 1, 0.533192 )

[node name="door" instance=ExtResource( 1 )]
script = SubResource( 1 )

[node name="door" type="StaticBody" parent="." index="0"]
transform = Transform( 2.1119, 0, 0, 0, 1, 0, 0, 0, 1, -3.65065, 1.08017, -1.55728 )
script = SubResource( 3 )

[node name="CollisionShape" type="CollisionShape" parent="door" index="0"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 0.969629, -0.0347182, 0, -0.426462 )
shape = SubResource( 2 )

[node name="target" parent="door/CollisionShape" index="0" instance=ExtResource( 6 )]
transform = Transform( 0.0512601, 0, 0, 0, 0.980454, 0, 0, 0, 0.42394, -0.00361753, -0.0166591, 0.0304091 )
target_name = "Выход есть"
target_id = "9005"

[node name="frame_005" parent="." index="1"]
material/0 = ExtResource( 4 )

[node name="door_005" parent="frame_005" index="0"]
material/0 = ExtResource( 2 )

[node name="kick_plate_005" parent="frame_005/door_005" index="0"]
material/0 = ExtResource( 4 )

[node name="push_socket_005" parent="frame_005/door_005" index="1"]
material/0 = ExtResource( 4 )

[node name="push_bar_005" parent="frame_005/door_005/push_socket_005" index="0"]
material/0 = ExtResource( 3 )
